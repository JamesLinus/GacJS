<!DOCTYPE html>
<html>
<head>
    <title>Document</title>
    <link rel="stylesheet" href="./Doc/Document.css" />
    <link rel="stylesheet" href="./Doc/TreeView.css" />
    <script src="./Script/Package.js"></script>
    <script async src="./Script/Class.js"></script>
    <script async src="./Script/Test.js"></script>
    <script async src="./Script/Html/Navigation.js"></script>
    <script async src="./Script/Html/Razor.js"></script>
    <script async src="./Script/IO/Delay.js"></script>
    <script async src="./Script/IO/Resource.js"></script>
    <script async src="./Script/IO/Wildcard.js"></script>
    <script async src="./Doc/Document.js"></script>
    <script async src="./Doc/TreeView.js"></script>
</head>
<body>
    <table class="DocumentView">
        <tr>
            <td class="DocumentTitle" colspan="2">
                <img src="./Doc/Logo.gif" />
            </td>
        </tr>
        <tr>
            <td class="DocumentIndex" id="documentIndex"></td>
            <td class="DocumentContent" id="documentContent"></td>
        </tr>
    </table>

    <script>
        Packages.Define("Doc.DocumentPage", ["Class", "Doc.Document", "Doc.TreeView", "IO.Resource"], function (__injection__) {
            eval(__injection__);

            rootContainer = new TreeNodeContainer(true, documentIndex);

            GetResourceAsync("./Doc/Data/nss.xml", true).SucceededThen(function (result) {
                var nss = result.Xml.firstChild.getElementsByTagName("Namespace");
                for (var i = 0; i < nss.length; i++) {
                    var displayName = nss[i].getAttribute("DisplayName").split(" ");

                    var treeNode = new TreeNode(true);
                    treeNode.Title = displayName[0];
                    treeNode.Postfix = displayName[1];
                    rootContainer.AddTreeNode(treeNode);
                }
            });

            return {
            }
        })
    </script>
</body>
</html>
