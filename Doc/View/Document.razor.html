@package Doc.SymbolTree
@package Doc.View
@package XmlHelper

@var document = model.document;
@var documentType = model.documentType;

@var summary = GetDirectXmlChild(GetDirectXmlChild(document, "Document")[0], "summary")[0];
@if (summary === undefined) {
    summary = document;
}

@function RenderDocumentBody(body) {
    @for (var i = 0; i < body.childNodes.length; i++) {
        var xml = body.childNodes[i];
        if (xml.tagName === undefined) {
            <span class="DocComment">@xml.textContent</span>
        }
        else {
            <span class="DocComment">@PrintXml(xml)</span>
        }
    }
}

@switch (documentType) {
    case DocDocumentType.Description.Multiline:
        <span class="DocComment">/*</span>
        <br />
        <div style="margin-left: 2em">
            @RenderDocumentBody(summary)
        </div>
        <span class="DocComment">*/</span>
        break;
    case DocDocumentType.Description.Singleline:
        <span class="DocComment">/*&nbsp;</span>
        @:@RenderDocumentBody(summary)
        <span class="DocComment">&nbsp;*/</span>
        break;
    case DocDocumentType.Description.Embedded:
        @:@RenderDocumentBody(summary)
        break;
}